CREATE TABLE user{
   ID int,
   Name VARCHAR(50) NOT NULL,
   Email VARCHAR(50) NOT NULL UNIQUE,
   Password VARCHAR(50) NOT NULL,
   Role VARCHAR(50),  -- IDK about this one; probably should be enum
   PRIMARY KEY(ID),
}

CREATE TABLE DJ{
   id int,
   DJ_Name VARCHAR(50) NOT NULL,
   Sem_Trained ENUM('Spring','Summer','Fall') NOT NULL,  -- Figure out how to represent semesters
   Year_Trained YEAR NOT NULL,  -- Figure out how to represent semesters
   trainer_dj_id int,  -- Can not make NOT NULL; how would we add the first DJ?
   Sem_Grad ENUM('Spring','Summer','Fall'),
   Year_Grad YEAR,
   Prof_Desc TINYTEXT,  -- Longer?
   Prof_IMG MEDIUMBLOB,  -- What's best Blob size?
   PRIMARY KEY(id),
   FOREIGN KEY (id) REFERENCES user(id),
   FOREIGN KEY (trainer_dj_id) REFERENCES dj(id)
}

CREATE TABLE Town_And_Campus_News{
   ID int,
   Title VARCHAR(50) NOT NULL,
   Organization VARCHAR(50),
   Description TEXT NOT NULL,  -- TEXT can be sized for enforcing char-limit
   Location VARCHAR(50) NOT NULL,
   Website VARCHAR(50),  -- Lengthen for longer URLs?
   Contact_Name VARCHAR(50) NOT NULL,
   Contact_Email VARCHAR(50) NOT NULL,
   approved BOOLEAN NOT NULL DEFAULT 0,
   submit_date TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
   expiration_date TIMESTAMP NOT NULL,
   PRIMARY KEY(ID),
}

!-- Idek if we'll use this --!
CREATE TABLE Show_Slot{
   ID int,
   Day VARCHAR(10),
   Start_Time tinyint, //DATETIME unneccessary
   End_Time tinyint,
   Sem_Year VARCHAR(20),
}

CREATE TABLE Show{
   ID int,
   Name VARCHAR(50) NOT NULL,
   Desc_Long TINYTEXT,  -- Longer?
   Desc_Short VARCHAR(50),  -- Shorter?
   Associated_Slot //from showslot table,  -- Fuck, idk if we need these slots or not man
   Show_Image MEDIUMBLOB,  -- What's the best blob size?
   PRIMARY KEY(id)
}

CREATE TABLE Show_Host{
   show_id INT,
   dj_id INT,
   PRIMARY KEY (show_id, dj_id),
   FOREIGN KEY (show_id) REFERENCES show(id),
   FOREIGN KEY (dj_id) REFERENCES dj(id)
}

CREATE TABLE Rented_Show{
   id INT,  -- Remove surrogate; use composite show_id + rent_date key instead?
   show_id INT NOT NULL,
   rent_date DATE NOT NULL,  -- Time can be found from joining with show or slot table
   claimer_dj_id INT,
   PRIMARY KEY (id),
   FOREIGN KEY (show_id) REFERENCES show(id),
   FOREIGN KEY (claimer_dj_id) REFERENCES dj(id)
}

CREATE TABLE Playlist{
   ID int,
   Name VARCHAR(50),  -- Null allowed for DJs who don't leave playlist names in KLAP
   Desc TINYTEXT,  -- Longer? Shorter?
   Date DATE NOT NULL,  -- Default to current date?
   show_id int NOT NULL,
   -- Listenership: Problem for another day
   -- Spotify_URL VARCHAR(50): Problem for another day
   hidden BOOLEAN NOT NULL DEFAULT 0,
   Playlist_IMG MEDIUMBLOB,  -- What's the best blob size?
   PRIMARY KEY(ID),
   FOREIGN KEY (show_id) REFERENCES show(id)
}

CREATE TABLE Playlist_Track{
   playlist_id INT,
   track TINYINT,  -- unsigned preferably
   song VARCHAR(100) NOT NULL,  -- what's the best size for this?
   artist VARCHAR(100) NOT NULL,  -- what's the best size for this?
   album VARCHAR(50),  -- what's the best size for this?
   -- Spotify_URL VARCHAR(50): Problem for another day
   PRIMARY KEY(playlist_id, track),
   FOREIGN KEY (playlist_id) REFERENCES playlist(id)
}

